<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 2</title>
</head>
<body>
    <h1>Página 2</h1>

    <table border="1">
        <thead>
            <tr>
                <th></th> <!-- Encabezado vacío para la esquina superior izquierda -->
                <script>
                    // Recuperamos el array1 desde localStorage
                    var array1 = JSON.parse(localStorage.getItem('array1'));

                    // Creamos encabezados de columna basados en array1
                    for (var i = 0; i < array1.length; i++) {
                        document.write("<th>" + array1[i] + "</th>");
                    }
                </script>
            </tr>
        </thead>
        <tbody>
            <script>
                
                // Recuperamos el array2 desde localStorage
                var dataed = JSON.parse(localStorage.getItem('dataed'));

                // Iteramos sobre array1 y creamos filas
                for (var i = 0; i < array1.length; i++) {
                    flag=true;
                    var newRow = document.createElement('tr');

                    // Creamos la primera celda de la fila con el valor de array1
                    var array1Element = document.createElement('td');
                    array1Element.textContent = array1[i];
                    newRow.appendChild(array1Element);

                    // Creamos las celdas restantes de la fila con los valores de array2
                    for (var j = 0; j < array1.length; j++) {
                        var dataedElement = document.createElement('td');
                        for(var num = 0; num < dataed.length; num=num+3){
                            if(dataed[num+1]==i && dataed[num+2]==j){
                                dataedElement.textContent = dataed[num];
                                flag=false;
                            }
                        }
                        if(flag){
                            dataedElement.textContent = 0;
                            
                        }
                        flag=true;
                        newRow.appendChild(dataedElement);
                    }
                    num=num+3;
                    // Agregamos la fila a la tabla
                    document.querySelector('tbody').appendChild(newRow);
                }
            </script>
        </tbody>
    </table>
</body>
</html>
